<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Home</title>
    <link href="/home.css" type="text/css" rel="stylesheet"/>
</head>
<body>

<script src="https://unpkg.com/vue@3/dist/vue.global.js"></script>
<script src="https://unpkg.com/axios/dist/axios.min.js"></script>

<div id="app">
    <div v-if="updatePopup">
        <h2>Update Book</h2>
        <form @submit.prevent="submitUpdate">
            <label for="title">Title:</label>
            <input type="text" id="title" v-model="updatedBook.title" required><br>

            <label for="author">Author:</label>
            <input type="text" id="author" v-model="updatedBook.author" required><br>

            <label for="publisher">Publisher:</label>
            <input type="text" id="publisher" v-model="updatedBook.publisher" required><br>

            <label for="price">Price:</label>
            <input type="number" step="any" id="price" v-model="updatedBook.price" required><br>

            <button type="submit">Update</button>
            <button @click="closePopup">Cancel</button>
        </form>
    </div>

    <div v-if="addPopup">
        <h2>add Book</h2>
        <form @submit.prevent="submitAdd">
            <label for="title1">Title:</label>
            <input type="text" id="title1" v-model="addedBook.title" required><br>

            <label for="author1">Author:</label>
            <input type="text" id="author1" v-model="addedBook.author" required><br>

            <label for="publisher1">Publisher:</label>
            <input type="text" id="publisher1" v-model="addedBook.publisher" required><br>

            <label for="price1">Price:</label>
            <input type="number" step="any" id="price1" v-model="addedBook.price" required><br>

            <button type="submit">Add</button>
            <button @click="closePopup">Cancel</button>
        </form>
    </div>

    <table>
        <thead>
        <tr>
            <th>书名</th>
            <th>作者</th>
            <th>出版社</th>
            <th>价格</th>
            <th>操作</th>
        </tr>
        </thead>
        <tbody>
        <tr v-for="book in books" class="row">
            <td>{{ book.title }}</td>
            <td>{{ book.author }}</td>
            <td>{{ book.publisher }}</td>
            <td>{{ book.price }}</td>
            <td>
                <button @click="deleteBook(book.bookId)">删除</button>
                <button @click="openUpdatePopup(book)">更改</button>
            </td>
        </tr>
        </tbody>
    </table>
    <button @click="openAddPopup()">新增</button>
    &nbsp;
    <a href="/login" target="_self">
        <button>退出账号</button>
    </a>
</div>
<script src="/home.js"></script>
</body>


</html>